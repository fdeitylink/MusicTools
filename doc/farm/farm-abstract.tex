%% For double-blind review submission, w/o CCS and ACM Reference (max submission space)
\documentclass[sigplan,review]{acmart}\settopmatter{printfolios=true,printccs=false,printacmref=false}
%% For double-blind review submission, w/ CCS and ACM Reference
%\documentclass[acmsmall,review,anonymous]{acmart}\settopmatter{printfolios=true}
%% For single-blind review submission, w/o CCS and ACM Reference (max submission space)
%\documentclass[acmsmall,review]{acmart}\settopmatter{printfolios=true,printccs=false,printacmref=false}
%% For single-blind review submission, w/ CCS and ACM Reference
%\documentclass[acmsmall,review]{acmart}\settopmatter{printfolios=true}
%% For final camera-ready submission, w/ required CCS and ACM Reference
%\documentclass[acmsmall]{acmart}\settopmatter{}

%% Journal information
%% Supplied to authors by publisher for camera-ready submission;
%% use defaults for review submission.
\acmJournal{PACMPL}
\acmVolume{1}
\acmNumber{CONF} % CONF = POPL or ICFP or OOPSLA
\acmArticle{1}
\acmYear{2018}
\acmMonth{1}
\acmDOI{} % \acmDOI{10.1145/nnnnnnn.nnnnnnn}
\startPage{1}

%% Copyright information
%% Supplied to authors (based on authors' rights management selection;
%% see authors.acm.org) by publisher for camera-ready submission;
%% use 'none' for review submission.
\setcopyright{none}
%\setcopyright{acmcopyright}
%\setcopyright{acmlicensed}
%\setcopyright{rightsretained}
%\copyrightyear{2018}           %% If different from \acmYear

%% Bibliography style
\bibliographystyle{ACM-Reference-Format}
%% Citation style
%% Note: author/year citations are required for papers published as an
%% issue of PACMPL.
\citestyle{acmauthoryear}   %% For author/year citations

%% Some recommended packages.
\usepackage{booktabs}   %% For formal tables:
                        %% http://ctan.org/pkg/booktabs
\usepackage{subcaption} %% For complex figures with subfigures/subcaptions
                        %% http://ctan.org/pkg/subcaption


\begin{document}

%% Title information
\title{Demo: Counterpoint by Construction}
%\subtitle{Functional Pearl}

%% Author information
%% Contents and number of authors suppressed with 'anonymous'.

%% Author with single affiliation.
\author{Youyou Cong}
\affiliation{
  \institution{Tokyo Institute of Technology}            %% \institution is required
  \city{Tokyo}
  \country{Japan}
}
\email{cong@c.titech.ac.jp}          %% \email is recommended

\author{John Leo}
\affiliation{
  \institution{Halfaya Research}            %% \institution is required
  \city{Bellevue}
  \state{WA}
  \country{USA}
}
\email{leo@halfaya.org}          %% \email is recommended


%% Abstract
%% Note: \begin{abstract}...\end{abstract} environment must come
%% before \maketitle command


%% 2012 ACM Computing Classification System (CSS) concepts
%% Generate at 'http://dl.acm.org/ccs/ccs.cfm'.
\begin{CCSXML}
<ccs2012>
<concept>
<concept_id>10011007.10011006.10011008</concept_id>
<concept_desc>Software and its engineering~General programming languages</concept_desc>
<concept_significance>500</concept_significance>
</concept>
<concept>
<concept_id>10003456.10003457.10003521.10003525</concept_id>
<concept_desc>Social and professional topics~History of programming languages</concept_desc>
<concept_significance>300</concept_significance>
</concept>
</ccs2012>
\end{CCSXML}

\ccsdesc[500]{Software and its engineering~General programming languages}
\ccsdesc[300]{Social and professional topics~History of programming languages}
%% End of generated code

%% Keywords
%% comma separated list
% \keywords{keyword1, keyword2, keyword3}  %% \keywords are mandatory in final camera-ready submission


%% \maketitle
%% Note: \maketitle command must come after title commands, author
%% commands, abstract environment, Computing Classification System
%% environment and commands, and keywords command.
\maketitle

Western music of the common practice period tends to loosely
follow sets of rules, which were developed over time to help
ensure the aethetic quality of the composition. 
Among various rules, those for harmony \citep{piston1987harmony}
and counterpoint \citep{fux1965study} are continue to be taught
to music students, not only as a means to understand the music of
that period, but also as a foundation for modern art and popular music.
To help analyze and synthesize tonal music, it is worthwhile to encode
these rules into a programming language, and in particular, functional
programming languages have proven ideally suited to this task.
In the past decade, quite a bit of work has been done in Haskell
\citep{fmmh, hihseufha, faamh, hafha, fghm} to encode the rules of harmony,
but little progress has been made on counterpoint \citep{mezzo}.
Furthermore, due to the lack of full dependent types, Haskell's
type system is not strong enough to encode the logic of counterpoint
in a natural way; indeed, existing implementation relies on a number
of language extensions.

In this demonstration of work in progress, we present Music Tools
\citep{MusicTools}, a library of small tools that can be combined
functionally to help analyze and synthesize music.
The library is written in Agda (with Haskell used for I/O), which
allows simple and natural encoding of rules by means of dependent types.
As an application of the library, we demonstrate an implementation of 
species counterpoint \citep{fux1965study}, which uses Agda's rich type
system to ensure (by construction) that all rules are followed.
We show how this both aids human composition and allows for
computer-generated creation of correct counterpoint.
We also contrast our approach to a recent study on generating
natural-sounding counterpoint by machine learning
\citep{CounterpointByConvolution}, which does not give us correctness
guarantees.
Finally, we discuss further applications of our library, including handling 
of functional harmony.


%% Acknowledgments
\begin{acks}                            %% contents suppressed with 'anonymous'
 The authors would like to thank the participants of the Tokyo Agda 
 Implmentors' Meeting, especially Ulf Norell and Jesper Cockx,
 for many helpful suggestions that improved our Agda code.
\end{acks}


%% Bibliography
\bibliography{farm-abstract.bib}

\end{document}
